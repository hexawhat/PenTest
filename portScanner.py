import sys
import socket
from datetime import datetime


def main():
	target = input("Ingresar la direccion IP a escanear >>> ")
	xport = int(input("Ingresar el numero maximo de puertos a escanear >>> "))

	print("-"*50)
	print("El target es : " + target)
	print("Inicio de escaneo: " +str(datetime.now()))
	print("-"*50)

	for port in range(1,xport):
		s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
		socket.setdefaulttimeout(1)
		result = s.connect_ex((target,port))
		if result == 0:
			print("El puerto {} se encuentra abierto".format(port))
		s.close()


if __name__ == '__main__':
	try:
		main()
	except KeyboardInterrupt:
		sys.exit()
